<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Add tags to filter the Agents list | Fleet and Elastic Agent Guide [8.7] | Elastic</title>
<meta class="elastic" name="content" content="Add tags to filter the Agents list | Fleet and Elastic Agent Guide [8.7]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [8.7]"/>
<link rel="up" href="manage-agents.html" title="Elastic Agents"/>
<link rel="prev" href="upgrade-elastic-agent.html" title="Upgrade Fleet-managed Elastic Agents"/>
<link rel="next" href="monitor-elastic-agent.html" title="Monitor Elastic Agents"/>
<meta class="elastic" name="product_version" content="8.7"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/8.7"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="8.7"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [8.7]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="manage-agents-in-fleet.html">Centrally manage Elastic Agents in Fleet</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="manage-agents.html">Elastic Agents</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="upgrade-elastic-agent.html">« Upgrade Fleet-managed Elastic Agents</a>
</span>
<span class="next">
<a href="monitor-elastic-agent.html">Monitor Elastic Agents »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="filter-agent-list-by-tags"></a>Add tags to filter the Agents list<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.7/docs/en/ingest-management/fleet/filter-agent-list-by-tags.asciidoc">edit</a></h3>
</div></div></div>
<p>You can add tags to Elastic Agent during or after enrollment, then use the tags to
filter the Agents list shown in Fleet.</p>
<p>Tags are useful for capturing information that is specific to the installation
environment, such machine type, location, operating system, environment, and
so on. Tags can be any arbitrary information that will help you filter and
perform operations on Elastic Agents with the same attributes.</p>
<p>To filter the Agents list by tag, in Kibana, go to <span class="strong strong"><strong>Fleet &gt; Agents</strong></span> and click
<span class="strong strong"><strong>Tags</strong></span>. Select the tags to filter on. The tags are also available in the KQL
field for autocompletion.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/agent-tags.png" alt="Agents list filtered to show agents with the staging tag">
</div>
</div>
<p>If you haven&#8217;t added tags to any Elastic Agents yet, the list will be empty.</p>
<h5><a id="add-tags-in-fleet"></a>Add, remove, rename, or delete tags in Fleet<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.7/docs/en/ingest-management/fleet/filter-agent-list-by-tags.asciidoc">edit</a></h5>
<p>You can use Fleet to add, remove, or rename tags applied to one or more
Elastic Agents.</p>
<p>Want to add tags when enrolling from a host instead? See
<a class="xref" href="filter-agent-list-by-tags.html#add-tags-at-enrollment" title="Add tags during agent enrollment">Add tags during agent enrollment</a>.</p>
<p>To manage tags in Fleet:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
On the <span class="strong strong"><strong>Agents</strong></span> tab, select one or more agents.
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Actions</strong></span> menu, click <span class="strong strong"><strong>Add / remove tags</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/add-remove-tags.png" alt="Screenshot of add / remove tags menu">
</div>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Make sure you use the correct <span class="strong strong"><strong>Actions</strong></span> menu. To manage tags for a single
agent, click the ellipsis button under the <span class="strong strong"><strong>Actions</strong></span> column. To manage tags
for multiple agents, click the <span class="strong strong"><strong>Actions</strong></span> button to open the bulk actions menu.</p>
</div>
</div>
</li>
<li class="listitem">
<p>In the tags menu, perform an action:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">To&#8230;&#8203;</th>
<th align="left" valign="top">Do this&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Create a new tag</p></td>
<td align="left" valign="top"><p>Type the tag name and click <span class="strong strong"><strong>Create new tag&#8230;&#8203;</strong></span>. Notice the tag name has
a check mark to show that the tag has been added to the selected agents.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Rename a tag</p></td>
<td align="left" valign="top"><p>Hover over the tag name and click the ellipsis button. Type a new name and press Enter.
The tag will be renamed in all agents that use it, even agents that are not
selected.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Delete a tag</p></td>
<td align="left" valign="top"><p>Hover over the tag name and click the ellipsis button. Click <span class="strong strong"><strong>Delete tag</strong></span>.
The tag will be deleted from all agents, even agents that are not selected.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Add or remove a tag from an agent</p></td>
<td align="left" valign="top"><p>Click the tag name to add or clear the check mark. In the <span class="strong strong"><strong>Tags</strong></span> column,
notice that the tags are added or removed. Note that the menu only shows
tags that are common to all selected agents.</p></td>
</tr>
</tbody>
</table>
</div>
</li>
</ol>
</div>
<h5><a id="add-tags-at-enrollment"></a>Add tags during agent enrollment<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.7/docs/en/ingest-management/fleet/filter-agent-list-by-tags.asciidoc">edit</a></h5>
<p>When you install or enroll Elastic Agent in Fleet, you can specify a comma-separated
list of tags to apply to the agent, then use the tags to filter the Agents list
shown in Fleet.</p>
<p>The following command applies the <code class="literal">macOS</code> and <code class="literal">staging</code> tags during
installation:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">sudo ./elastic-agent install \
  --url=&lt;Fleet Server host URL&gt; \
  --enrollment-token=&lt;enrollment token&gt; \
  --tag macOS,staging</pre>
</div>
<p>For the full command synopsis, refer to <a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-install-command" title="elastic-agent install">elastic-agent install</a> and
<a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-enroll-command" title="elastic-agent enroll">elastic-agent enroll</a>.</p>
<p>The following command applies the <code class="literal">docker</code> and <code class="literal">dev</code> tags to Elastic Agent running in
a Docker container:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">docker run \
  --env FLEET_ENROLL=1 \
  --env FLEET_URL=&lt;Fleet Server host URL&gt; \
  --env FLEET_ENROLLMENT_TOKEN=&lt;enrollment token&gt; \
  --env ELASTIC_AGENT_TAGS=docker,dev
  --rm docker.elastic.co/beats/elastic-agent:8.7.0</pre>
</div>
<p>For more information about running on containers, refer to the guides under
<a class="xref" href="install-elastic-agents-in-containers.html" title="Install Elastic Agents in a containerized environment">Install Elastic Agents in a containerized environment</a>.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="upgrade-elastic-agent.html">« Upgrade Fleet-managed Elastic Agents</a>
</span>
<span class="next">
<a href="monitor-elastic-agent.html">Monitor Elastic Agents »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
